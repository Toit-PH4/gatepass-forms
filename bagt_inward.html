<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gate Pass BAGT Inward</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
    }
    form {
      max-width: 600px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
    }
    label {
      display: block;
      margin: 10px 0 5px;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-bottom: 15px;
    }
    button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 12px;
      cursor: pointer;
      border-radius: 4px;
    }
    .center-message {
      text-align: center;
      font-size: 18px;
      margin-top: 50px;
      color: green;
    }
  </style>
</head>
<body>

<form action="https://fotos-xhtml-slides-flu.trycloudflare.com/upload" method="POST" enctype="multipart/form-data">
  <h2>Gate Pass Inward - BAGT</h2>

  <label for="invoice_date">Invoice Date:</label>
  <input type="date" name="invoice_date" required>

  <label for="invoice_number">Invoice Number:</label>
  <input type="text" name="invoice_number" required>

  <label for="serial_number">Serial Number:</label>
  <input type="text" name="serial_number" required>

  <label for="invoice_photo">Invoice Photo (Mandatory):</label>
  <input type="file" name="invoice_photo" accept="image/*" capture="environment" required>

  <label for="goods_photo_1">Goods Photo 1 (Mandatory):</label>
  <input type="file" name="goods_photo_1" accept="image/*" capture="environment" required>

  <label for="goods_photo_2">Goods Photo 2 (Optional):</label>
  <input type="file" name="goods_photo_2" accept="image/*" capture="environment">

  <input type="hidden" name="region" value="BAGT">
  <input type="hidden" name="source" value="Inward">
  <input type="hidden" name="timestamp" id="timestamp">
  <input type="hidden" name="latitude" id="latitude">
  <input type="hidden" name="longitude" id="longitude">

  <button type="submit">Submit</button>
</form>

<script>
  // Auto-fill timestamp and location
  document.addEventListener("DOMContentLoaded", () => {
    const timestamp = new Date();
    document.getElementById("timestamp").value = timestamp.toISOString();

    navigator.geolocation.getCurrentPosition(position => {
      document.getElementById("latitude").value = position.coords.latitude;
      document.getElementById("longitude").value = position.coords.longitude;
    }, err => {
      console.warn("Location capture failed", err);
    });
  });
</script>

</body>
</html>
